{
  "title": "Mesh geometry description",
  "type": "object",
  "$schema": "http://json-schema.org/draft-04/schema",
  "description-href": "description/geometrybuffer.cmn.0107.md",
  "properties": {
    "offset": {
      "type": "integer",
      "description": "The number of bytes to skip from the beginning of the binary buffer. Useful to describe 'legacy' buffer that have a header. Default=`0`."
    },
    "position": {
      "type": "object",
      "$ref": "geometryposition.cmn.0107.json",
      "description": "Vertex positions relative to oriented-bounding-box center."
    },
    "normal": {
      "type": "object",
      "$ref": "geometrynormal.cmn.0107.json",
      "description": "Face/vertex normal."
    },
    "uv0": {
      "type": "object",
      "$ref": "geometryuv.cmn.0107.json",
      "description": "First set of UV coordinates. Only applies to textured mesh."
    },
    "color": {
      "type": "object",
      "$ref": "geometrycolor.cmn.0107.json",
      "description": "The colors attribute."
    },
    "uvRegion": {
      "type": "object",
      "$ref": "geometryuvregion.cmn.0107.json",
      "description": "UV regions, used for repeated textures in texture atlases."
    },
    "featureId": {
      "type": "object",
      "$ref": "geometryfeatureid.cmn.0107.json",
      "description": "FeatureId attribute."
    },
    "faceRange": {
      "type": "object",
      "$ref": "geometryfacerange.cmn.0107.json",
      "description": "Face range for a feature."
    },
    "compressedAttributes": {
      "type": "object",
      "$ref": "compressedAttributes.cmn.0107.json",
      "description": "Compressed attributes. **Cannot** be combined with any other attributes."
    }

  },
  "esriDocumentation": {
    "examples": [
      {
        "title": "I3S v1.6 equivalent geometry buffer definition (with UV regions)",
        "code": {
					"offset": 8,
					"position": {
						"type": "Float32",
						"component": 3
					},
					"normal": {
						"type": "Float32",
						"component": 3
					},
					"uv0": {
						"type": "Float32",
						"component": 2
					},
					"color": {
						"type": "UInt8",
						"component": 4
					},
					"uvRegion": {
						"type": "UInt16",
						"component": 4
					},
					"featureId": {
						"type": "UInt64",
						"component": 1,
						"binding": "per-feature"
					},
          "faceRange": {
            "type": "UInt32",
            "component": 2,
            "binding": "per-feature"
          }
				}
      },
      {
        "title": "A compressed geometry buffer definition with featureId (without normal, with UV regions)",
        "code": {
          "compressedAttributes": {
						"encoding": "draco",
            "attributes": [
              "position",
              "uv0",
              "color",
              "feature-index",
              "uv-region"
            ]
					}
        }
      }
    ]
  }
}